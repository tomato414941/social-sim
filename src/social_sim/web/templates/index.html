{% extends "base.html" %}

{% block content %}
<div class="dashboard">
    <section class="controls">
        <h2>Parameters</h2>
        <form hx-post="/run" hx-target="#results" hx-swap="innerHTML" hx-indicator="#loading">
            <div class="form-group">
                <label for="num_agents">Number of Agents</label>
                <input type="number" id="num_agents" name="num_agents" value="{{ params.num_agents }}" min="2" max="1000">
            </div>
            <div class="form-group">
                <label for="initial_wealth">Initial Wealth</label>
                <input type="number" id="initial_wealth" name="initial_wealth" value="{{ params.initial_wealth }}" min="1" max="100" step="0.1">
            </div>
            <div class="form-group">
                <label for="steps">Simulation Steps</label>
                <input type="number" id="steps" name="steps" value="100" min="10" max="1000">
            </div>
            <div class="form-group">
                <label for="seed">Random Seed (optional)</label>
                <input type="number" id="seed" name="seed" placeholder="Leave empty for random">
            </div>
            <div class="form-actions">
                <button type="submit" class="btn btn-primary">Run Simulation</button>
                <button type="button" class="btn btn-secondary" hx-post="/reset" hx-target="#results" hx-swap="innerHTML">Reset</button>
            </div>
        </form>
        <div id="loading" class="htmx-indicator">
            <span class="spinner"></span> Running simulation...
        </div>
    </section>

    <section class="results" id="results">
        {% include "partials/results.html" %}
    </section>
</div>
{% endblock %}
